import { logger } from '../../common/helpers/logger'
import { SSVNetworkAbi } from '../contracts/SSVNetworkContract'
import { sendTx } from '../../common/helpers/sendTx'
import { getClusterPubkeysPageFromApi } from '../reads/getClusterPubkeysPageFromApi'

export async function bulkExitValidator() {
  logger.log('bulkExitValidator started')

  // const pubkeys1 = await getClusterPubkeysPageFromApi('0x24d5c4ebf2f7f38b9124c332461bd9eb7f3d7910a928178da20d1866eb20e511', 1)
  // const pubkeys2 = await getClusterPubkeysPageFromApi('0x24d5c4ebf2f7f38b9124c332461bd9eb7f3d7910a928178da20d1866eb20e511', 2)

  const publicKeys: string[] = [
    '0x80c09b933165d8370862d9a3991897ce3b499e36e5ddef2d2c1ff276964761b21c6a651e6c40b62f48a180c017447640',
    '0x8320cd05a1f33568a64da4000cb827be0ce8f027bcdf5c4a80c5fe1679c01a6573fec607e3ebd2ee79eaf85b9e3cdd16',
    '0x8a70d2bebc844b1c185c73c177e977de6c3eea8232da532b12e18982422056e4740974a64c33f7abc004062d9b1f5301',
    '0xafe021bfe48bca8c8057121eae716a415b08c7da0602f91bb44272a51035b14f12fc4008a8baf752a2b6ee116f4d1840',
    '0x9662ef1052a5b279f51b7c27e4230200860e5a42f95163c502a8bc7d090091609ac5855a745638ca090701956ca00bb7',
    '0x883fc2475a112e1eb1584b7e3df4a2d638a2fb438d8f4fc124b4da7d5d8cfc9e54347e47cd3542ba2653d7b74160ec49',
    '0xae17201f122b926f96c58399a2891e110a2c177788423d35bfc13598a97912f65422764e90a166a1490cabcf82c10bf5',
    '0x93b857f50e29febd97f8408f04c4397ae7fc164b1fb822393821a5bdf0f1b7249957311c2eed5e6f528f71322e02eb17',
    '0xa1674f0531800c1c683c9547dcc7de74f6f5bd0d54ae863eaeb4f275da40cdff9329b5b8d7a183f37807f839f097a8cb',
    '0x8e256541a07eff851f7a5d95cf6332b16ed94d7fee6b5ddbaaea2e2345de6e86599bf049893fac487780396eee8f4372',
    '0xa3133300f84cd9321f11e9c380142a293f9efb82844ba649f8c1b8afcbddb5734085fc3c22e8497e91bf831baeaa67fe',
    '0x98fd2ef8d6d9c535649866cccf1a9e7df330da8845ed82e4db4442136a93d989b650823acadefc46f64f39daf4861456',
    '0x9208af492447ded3e278b48965dd531e49247651db8e0f81bc44bb54814eacd3a5f4813ec3bce15a76d983fc000ef613',
    '0xa541fe86199adf1b27b06ab78888d529977af2b7e2a80a4291eef7a20df9ff22e990cc3909442acd1f34f7a11e692879',
    '0xabdadd323f950d4aa0f583ece8f4c81ef6d101a04b7e4354f8da6d1744877fd7c5e1bcc10674f1288300ad873c8bf132',
    '0xb1583b8e9f7a0a7742ff5fa00732324a095b4fee2ab526ccd641d07ca77797753a3168e2c8d9021c7b6041db4925b95d',
    '0xa89dd7af08b28a117a33e875dd379df889de287fe9bbff886080e7539b6bc1cfad6bda39298c0e43ec6784577b74d6da',
    '0xb1a1fcca5bcb17f585fed637ca07a8f6aa509b0aa4ad9584c2bf100873c5fa87dff0fee096a3c0fbcd1c10b94a9dae82',
    '0x99ffd8726615f9cebd3d235e4d6a0bcd7027881e74e5cdfe535bff32b9132d9db7a64c57953e18d0f07db230a9226fc6',
    '0x98bd3ea2bf915fb2c0de172a05d1378e0a982e5a05a91470d441c929ceb0466c0f642fb282268b373534dad8ccee5503',
    '0xa0461d95ebf00469d09d4cf7f536f8f9e3636464036cff09652b74fe366bb31fa77dc5651b4f43b89ad4680ed6127197',
    '0xa72701334e3f8835153e36320e38eea24db3bfe2a55deeaa560e6535a9cb1da84b2be5ff1557b125d43d909556bf889f',
    '0x90926f35d696a973bdf08bc23201c6927dc06073e082ec7d5fe829f2f36bdd23d6814310a683c22e5d3d3bbf2cea384b',
    '0x863e84c95b56c3861c7f01709c242de93870f3d028fed621f1c997c9d445708a393a65696d88b6bbced3193f895be4c1',
    '0x9675aabe355fc2f41d8b27a18e6ee395a37774785d0673ec255bef098b993e9c5cc4cb94dd01fa128d401be5732f77d6',
    '0xb457e88d23ae87d21c70e776602fbb9fa56ac94107d138c898bc5bda385c218ba36771e50c27908ac3e74099f2254672',
    '0x912353c41fdb0a6980fb4735da449ef0c03d833ebd03d19f7c343a33f075d06b6548b75958d48a2fe1643be772fcaa60',
    '0x85698d49402ad474bde8fda4ae8301bbbf0dc7cf05e1956a44175b3fa61fa7939f6f0315495789ac8549dde7ea5cfd71',
    '0xb5e988068bc1a196a11ced8e395211c5a4ad02b40c0273a5f97aae444562944935774842451427f0da22157cb73cfb40',
    '0x88dbf57baa43a3cf2163d9a5b2ffca8c18c193e6c628bc062ecd8cce08dbc3629d2932d02d7d9069568b436199f00289',
    '0xa1d59ea652a45ec5f3f173058a4e470dbb5cc3216884287ecd1301faa8faec60ce6b027fffe067555c3a84b6c6747615'
  ]
  const operatorIds = [375,379,383,387]

  const txHash = await sendTx(
    '0x29984AAdaDB3927Fb8c0Cf5A539A282F39066332',
    SSVNetworkAbi,
    'bulkExitValidator',
    [publicKeys, operatorIds],
  )

  logger.log('bulkExitValidator finished')

  return txHash
}
